<launch>

   <!-- Setup Script -->
   <node name="setup" pkg="ada_launch" type="set_permissions.sh" />

   <!-- the controller node itself -->
   <node pkg="mico_hardware" 
          name="ros_control_kinova_mico" 
          type="mico_hardware" 
          output="screen" />


   <!-- load controllers -->
   <rosparam file="$(find ada_launch)/config/controllers.yaml" command="load" />
   
   <node name="controller_spawner_started" pkg="controller_manager" type="spawner" respawn="false"
      output="screen"
      args="
         joint_state_controller
         position_joint_mode_controller
         traj_controller" />
   <node name="controller_spawner_stopped" pkg="controller_manager" type="spawner" respawn="false"
      output="screen"
      args="
         --stopped
         velocity_joint_mode_controller
         pos_j1_controller
         pos_j2_controller
         pos_j3_controller
         pos_j4_controller
         pos_j5_controller
         pos_j6_controller
         pos_f1_controller
         pos_f2_controller
         vel_j1_controller
         vel_j2_controller
         vel_j3_controller
         vel_j4_controller
         vel_j5_controller
         vel_j6_controller
         vel_f1_controller
         vel_f2_controller
         " />
   
   <!-- load a nice urdf -->
   <param name="robot_description" command="cat $(find ada_description)/robots/mico-modified.urdf" />
   
   <node pkg="robot_state_publisher" type="robot_state_publisher" name="rob_st_pub" />

   <!-- Camera -->
   <include file="$(find softkinetic_driver)/launch/softkinetic_camera_ds325.launch"/>

   <!-- April Tags -->
   <include file="$(find apriltags)/launch/percy.launch"/>

</launch>
